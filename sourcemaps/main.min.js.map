{"version":3,"sources":["a-global.js","address.js","b-sms-csode.js","01_main.js"],"names":["lkModalClose","$","removeClass","intlTelInput","initialCountry","utilsScript","click","this","addClass","document","mouseup","e","div","is","target","has","length","hasClass","desc","attr","street","office","intercom","floor","entrance","comment","html","val","root","documentElement","getCustomPropertyValue","name","getComputedStyle","getPropertyValue","fieldset","querySelector","fields","querySelectorAll","boxes","handleInputField","value","slice","step","focusToIndex","findIndex","field","focus","forEach","addEventListener","successBtn","failureBtn","resetBtn","event","classList","add","remove","animateFailure","delay","firstStepDuration","secondStepDuration","parseInt","getDelay","setTimeout","contains","inputs","setAnimationDuration","dataset","safeValue","propertyValue","Number","isNaN","style","setProperty","node"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["$(\".lk-modal__input input\").intlTelInput({\r\n    initialCountry: 'ru',\r\n    utilsScript: \"js/utils.js\"\r\n})\r\n\r\n$(\".header__lk\").click(function () {\r\n    $(this).addClass(\"header__lk--disabled\")\r\n    $(\".lk-modal\").addClass(\"lk-modal--active\")\r\n})\r\n\r\n$(document).mouseup(function(e) {\r\n    var div = $('.lk-modal');\r\n    if (!div.is(e.target) && div.has(e.target).length === 0) {\r\n       if($(\".lk-modal\").hasClass(\"lk-modal--active\")){\r\n           lkModalClose()\r\n       }\r\n    }\r\n});\r\n\r\n$(\".lk-modal__close\").click(function () {\r\n    lkModalClose()\r\n})\r\n\r\nfunction lkModalClose() {\r\n    $(\".lk-modal\").removeClass(\"lk-modal--active\")\r\n    $(\".header__lk\").removeClass(\"header__lk--disabled\")\r\n}\r\n","$(\".address-card\").click(function () {\r\n    let desc = $(this).attr(\"data-desc\")\r\n    let street = $(this).attr(\"data-street\")\r\n    let office = $(this).attr(\"data-office\")\r\n    let intercom = $(this).attr(\"data-intercom\")\r\n    let floor = $(this).attr(\"data-floor\")\r\n    let entrance = $(this).attr(\"data-entrance\")\r\n    let comment = $(this).attr(\"data-comment\")\r\n\r\n    $(\"._desc\").html(desc)\r\n    $(\"._street\").val(street)\r\n    $(\"._office\").val(office)\r\n    $(\"._intercom\").val(intercom)\r\n    $(\"._floor\").val(floor)\r\n    $(\"._entrance\").val(entrance)\r\n    $(\"._comment\").val(comment)\r\n\r\n    $(\".address-form\").addClass(\"address-form--active\")\r\n})\r\n\r\n\r\n$(\"._save-address\").click(function () {\r\n    $(\".address-form\").removeClass(\"address-form--active\")\r\n})\r\n","const root = document.documentElement;\r\n\r\nfunction getCustomPropertyValue(name) {\r\n    const styles = getComputedStyle(root);\r\n    return styles.getPropertyValue(name);\r\n}\r\n\r\n/*\r\n  SMS Code input logic\r\n  primitive implementation of multi-input\r\n\r\n  Disclaimer: this «pen» was made for presentational pruposes.\r\n  It's not a production-ready solution, because it lacks of many best UX and a11y\r\n  practices. Let it inspire you and I hope you will enjoy it :)\r\n*/\r\n\r\nconst fieldset = document.querySelector(\".fieldset\");\r\nconst fields = document.querySelectorAll(\".field\");\r\nconst boxes = document.querySelectorAll(\".box\");\r\n\r\nfunction handleInputField({ target }) {\r\n    const value = target.value.slice(0, 1);\r\n    target.value = value;\r\n\r\n    const step = value ? 1 : -1;\r\n    const fieldIndex = [...fields].findIndex((field) => field === target);\r\n    const focusToIndex = fieldIndex + step;\r\n\r\n    if (focusToIndex < 0 || focusToIndex >= fields.length) return;\r\n\r\n    fields[focusToIndex].focus();\r\n}\r\nfields.forEach((field) => {\r\n    field.addEventListener(\"input\", handleInputField);\r\n});\r\n\r\n/* End SMS Code input logic */\r\n\r\n// Controls\r\nconst successBtn = document.querySelector(\".success-btn\");\r\nconst failureBtn = document.querySelector(\".failure-btn\");\r\nconst resetBtn = document.querySelector(\".reset-btn\");\r\n\r\nsuccessBtn.addEventListener(\"click\", (event) => {\r\n    fieldset.classList.add(\"animate-success\");\r\n});\r\nresetBtn.addEventListener(\"click\", (event) => {\r\n    fieldset.classList.remove(\"animate-failure\");\r\n    fieldset.classList.remove(\"animate-success\");\r\n});\r\nfailureBtn.addEventListener(\"click\", (event) => {\r\n    function getDelay() {\r\n        const firstStepDuration = getCustomPropertyValue(\r\n            \"--transition-duration-step-1\"\r\n        );\r\n        const secondStepDuration = getCustomPropertyValue(\r\n            \"--transition-duration-step-2\"\r\n        );\r\n\r\n        return parseInt(firstStepDuration) + parseInt(secondStepDuration);\r\n    }\r\n\r\n    function animateFailure() {\r\n        fieldset.classList.add(\"animate-failure\");\r\n        const delay = getDelay();\r\n\r\n        setTimeout(() => {\r\n            fieldset.classList.remove(\"animate-failure\");\r\n        }, delay);\r\n    }\r\n\r\n    if (fieldset.classList.contains(\"animate-success\")) {\r\n        fieldset.classList.remove(\"animate-success\");\r\n\r\n        const delay = parseInt(getCustomPropertyValue(\"--transition-duration-step-1\"))\r\n\r\n        setTimeout(() => {\r\n            animateFailure();\r\n        }, delay)\r\n\r\n        return;\r\n    }\r\n\r\n    animateFailure();\r\n});\r\n\r\nconst inputs = document.querySelectorAll(\".settings-controls__input\");\r\n\r\nfunction setAnimationDuration({ target }) {\r\n    const {\r\n        value,\r\n        dataset: { step }\r\n    } = target;\r\n    const safeValue = parseInt(value);\r\n    const propertyValue = Number.isNaN(safeValue) ? null : safeValue + \"ms\";\r\n\r\n    root.style.setProperty(`--transition-duration-step-${step}`, propertyValue);\r\n}\r\ninputs.forEach((node) => {\r\n    node.addEventListener(\"input\", setAnimationDuration);\r\n});\r\n",null]}